# #################################
# CTAI and CVAT Environment Setup
# #################################

# General Settings
# -----------------
NODE_ENV=development   # Options: [production | development | test]
NPM_START_ENV=dev      # Options: [prod | dev]
SERVER_IP=""           # Set to your host IP, e.g. 100.23.2.3, 192.168.51.200 ####       
INSTALL_PATH="${HOME}" # Set the path where you want to install CTAI and CVAT. Default is the user's home directory

# Network Configuration
# ----------------------
CTAI_PORT=3000                     #### Do not change if you use default nginx config in our repo ####
CVAT_HOST="${SERVER_IP}"           #### Should match your host IP ####
NEXTAUTH_URL="http://${SERVER_IP}" #### Should match your host IP ####
NEXTAUTH_URL_INTERNAL=http://localhost:3000
NEXTAUTH_SECRET="R6rOwj0+dOpfyHtkthKvPML4WON7kCBRDdTQITdhThI=" #### Change this for security ####

# Database Settings
# ------------------
# MariaDB for CTAI
DB_ROOT_PASSWORD=admin_password
DB_HOST=mariadb
DB_NAME=CTAI
DB_PORT=3306
DB_USER=admin_user         # Also used for phpMyAdmin login
DB_PASSWORD=admin_password # Also used for phpMyAdmin login

# Prisma Configuration
# ------------------
# prisma setting
# This was inserted by `prisma init`:
# Environment variables declared in this file are automatically made available to Prisma.
# See the documentation for more detail: https://pris.ly/d/prisma-schema#accessing-environment-variables-from-the-schema

# Prisma supports the native connection string format for PostgreSQL, MySQL, SQLite, SQL Server, MongoDB and CockroachDB.
# See the documentation for all the connection string options: https://pris.ly/d/connection-strings
# ------------------
DATABASE_URL="mysql://root:${DB_ROOT_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}"

# PostgreSQL for CVAT
POSTGRES_USER=root
POSTGRES_DB=cvat

# File Storage Paths
# -------------------
# These paths will be automatically updated by the setup script
DB_VOLUME_PATH="${INSTALL_PATH}/mnt/ctai-database/data"
TRAINING_MOUNT_PATH="${INSTALL_PATH}/mnt/training-task"
RAG_PATH="${INSTALL_PATH}/mnt/RAG-storage"
CVAT_STORE_CTAI_DATASET_PATH="${INSTALL_PATH}/mnt/ctai-dataset"

# CVAT Integration
# -----------------
CVAT_URL="http://${CVAT_HOST}/cvat"

# AI Model Settings
# ------------------
OPENAI_API_KEY="sk-xxxxxxxx" #### Replace with your actual OpenAI API key ####
MODEL_PROVIDER=openai
MODEL=gpt-4o
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIM=1024

# Admin User Setup
# -----------------
# CVAT admin account (change these values)
CVAT_ADMIN_USER=admin_username
CVAT_ADMIN_EMAIL=admin@example.com
CVAT_ADMIN_PASS=strong_admin_password

# Additional Services
# --------------------
# pgAdmin for PostgreSQL management (change these values)
PGADMIN_DEFAULT_EMAIL='pgadmin@example.com'
PGADMIN_DEFAULT_PASSWORD='pgadmin_password'

# ############################
# Instructions for Users
# ############################
# 1. Set SERVER_IP to your server's actual IP address (It should be a private IP address).
# 2. Replace 'sk-xxxxxxxx' in OPENAI_API_KEY with your actual API key.
# 3. Change NEXTAUTH_SECRET to a secure, randomly generated string. You can use `openssl rand -base64 32` to generate one.
# 4. Update all admin credentials (DB_ROOT_PASSWORD, DB_PASSWORD, CVAT_ADMIN_PASS, etc.) with strong, unique passwords.
# 5. Verify that all file paths are correct and accessible on your system.
# 6. Ensure CVAT_HOST and related URLs are correctly set for your environment.
# 7. Check all port numbers to avoid conflicts with other services.
# 8. The setup script will automatically update paths using ${INSTALL_PATH}.
# 9. Never share or commit sensitive information (like API keys or passwords) to version control.
